@using Model.ViewModel;
@model IEnumerable<ProductsView>

@if (Model.Count() > 0)
{

    var ItemFirst = Model.FirstOrDefault();
    var catName = ItemFirst.CatName;
    var catID = ItemFirst.CategoryID;

    <div class="row block products_block exclusive leomanagerwidgets">
        <h4 class="page-subheading text-danger">
            @catName.ToUpper()
        </h4>
        
        <div class="block_content">
            <div class="slide" id="productcarouse_@catID">
                <div class="product-block product_list grid">
                    <div class="carousel-inner">
                        @{                                                      
                            foreach (var item in Model)
                            {
                                @Html.Partial("_blockProductItem", item);
                            }
                        }
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script type="text/javascript">
        /* <![CDATA[ */;
        $(document).ready(function () {
            $('#productcarousel@catID').each(function () {
                $(this).carousel({ pause: 'hover', interval: 8000 });
            });
        });
        /* ]]> */
    </script>
}
